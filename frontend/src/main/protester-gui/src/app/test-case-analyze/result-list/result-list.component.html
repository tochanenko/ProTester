<mat-accordion class="expansion-body" *ngIf="testCaseResult">
  <mat-expansion-panel (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false" [expanded]="true" class="expansion-body">
    <mat-expansion-panel-header>
      <mat-panel-title class="test-case-title">
        {{testCaseResult.name}}
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-card class="test-case-info">
      <mat-card-content>

        <table class="table-info">
          <tr>
            <td> User id </td>
            <td>{{testCaseResult.userId}}</td>
          </tr>
          <tr>
            <td> TestCase Id </td>
            <td>{{testCaseResult.testCaseId}}</td>
          </tr>
          <tr>
            <td> Start Date </td>
            <td>{{testCaseResult.startDate}}</td>
          </tr>
          <tr>
            <td> End Date </td>
            <td>{{testCaseResult.endDate}}</td>
          </tr>
        </table>
      </mat-card-content>
    </mat-card>

    <div *ngFor="let item of testCaseResult.innerResults">
      <mat-card class="action-info" [ngClass]="{'action-failed-result':item.status === 'FAILED'}">

        <mat-card-title>
          <div class="action-header">

            <div class="action-name">

              <span *ngIf="item.status === 'PASSED'" class="material-icons passed">check_circle</span>
              <span *ngIf="item.status === 'FAILED'" class="material-icons-round failed">highlight_off</span>
              <span *ngIf="item.status === 'NOT STARTED'" class="material-icons-round not_started">schedule</span>
              <span *ngIf="item.status === 'IN PROGRESS'" class="material-icons in_progress">play_circle_filled</span>

              {{item.actionName}}

            </div>

            <mat-chip-list aria-label="Action Type">
              <mat-chip color="warn" selected *ngIf="item.type === 'REST'">REST</mat-chip>
              <mat-chip color="primary" selected *ngIf="item.type === 'SQL'">SQL</mat-chip>
              <mat-chip color="warn" selected *ngIf="item.type === 'TECHNICAL'">TECHNICAL</mat-chip>
              <mat-chip color="primary" selected *ngIf="item.type === 'UI'">UI</mat-chip>
            </mat-chip-list>

          </div>
        </mat-card-title>

        <mat-card-content>

          <table class="table-info">
            <tr>
              <td> Start date </td>
              <td>{{item.startDate}}</td>
            </tr>
            <tr>
              <td> End date </td>
              <td>{{item.endDate}}</td>
            </tr>
            <tr *ngFor="let i of item.extra | keyvalue">
              <td>{{ i.key }}</td>
              <td>{{ i.value }}</td>
            </tr>
            <tr *ngIf="item.message">
              <td> Message </td>
              <td>{{item.message}}</td>
            </tr>
          </table>

        </mat-card-content>

      </mat-card>
    </div>

  </mat-expansion-panel>

  <br>

</mat-accordion>
